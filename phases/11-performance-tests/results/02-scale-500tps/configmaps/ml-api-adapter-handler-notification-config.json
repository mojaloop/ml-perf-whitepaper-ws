{
    "API_TYPE": "fspiop",
    "ORIGINAL_PAYLOAD_STORAGE": "kafka",
    "PAYLOAD_CACHE": 
  {
    "connectionConfig": {
      "cluster": [
        {
          "host": "proxy-cache-redis",
          "port": 6379
        }
      ]
    },
    "enabled": false,
    "type": "redis-cluster"
  },
    "HUB_PARTICIPANT": {
        "ID": 1,
        "NAME": "Hub"
    },
    "PORT": 3000,
    "ENDPOINT_SOURCE_URL": "http://moja-centralledger-service:80",
    "ENDPOINT_HEALTH_URL": "http://moja-centralledger-service:80/health",
    "ENDPOINT_CACHE_CONFIG": {
        "expiresIn": 180000,
        "generateTimeout": 30000
    },
    "ENDPOINT_SECURITY":{
        "JWS": {
          "JWS_SIGN": true,
          "JWS_SIGNING_KEY_PATH": "secrets/jwsSigningKey.key"
        },
        "TLS": {
            "rejectUnauthorized": true
        }
    },
    "PROTOCOL_VERSIONS": {
  "ACCEPT": {
    "DEFAULT": "2",
    "VALIDATELIST": [
      "1",
      "1.0",
      "1.1",
      "2",
      "2.0"
    ]
  },
  "CONTENT": {
    "DEFAULT": "2.0",
    "VALIDATELIST": [
      "1",
      "1.0",
      "1.1",
      "2",
      "2.0"
    ]
  }
},
    "HOSTNAME": "ml-api-adapter-notification.local",
    "MAX_CALLBACK_TIME_LAG_DILATION_MILLISECONDS": 100,
    "MAX_FULFIL_TIMEOUT_DURATION_SECONDS": 240,
    "TRANSFERS": {
        "SEND_TRANSFER_CONFIRMATION_TO_PAYEE": false
    },
    "AMOUNT": {
        "PRECISION": 18,
        "SCALE": 4
    },
    "ERROR_HANDLING": {
        "includeCauseExtension": false,
        "truncateExtensions": true
    },
    "HANDLERS": {
        "DISABLED": false,
        "API": {
            "DISABLED": false
        }
    },
    "INSTRUMENTATION": {
        "METRICS": {
            "DISABLED": false,
            "config": {
                "timeout": 5000,
                "prefix": "moja_",
                "defaultLabels": {
                    "serviceName": "ml-handler-notification"
                }
            }
        }
    },
    "PROXY_CACHE": 
    {
      "enabled": false,
      "proxyConfig": {
        "cluster": [
          {
            "host": "proxy-cache-redis",
            "port": 6379
          }
        ]
      },
      "type": "redis-cluster"
    },
    "KAFKA": {
        "TOPIC_TEMPLATES": {
            "GENERAL_TOPIC_TEMPLATE": {
                "TEMPLATE": "topic-{{functionality}}-{{action}}",
                "REGEX": "topic-(.*)-(.*)"
            },
            "PARTICIPANT_TOPIC_TEMPLATE": {
                "TEMPLATE": "topic-{{participantName}}-{{functionality}}-{{action}}",
                "REGEX": "topic-(.*)-(.*)-(.*)"
            },
            "NOTIFICATION_TOPIC_TEMPLATE": {
                "TEMPLATE": "topic-notification-event",
                "REGEX": "topic-notification-event"
            },
            "FULFIL_TOPIC_TEMPLATE": {
                "TEMPLATE": "topic-transfer-fulfil",
                "REGEX": "topic-transfer-fulfil"
            },
            "GET_TRANSFERS_TOPIC_TEMPLATE": {
                "TEMPLATE": "topic-transfer-get",
                "REGEX": "topic-transfer-get"
            }
        },
        "CONSUMER": {
            "NOTIFICATION": {
                "EVENT": {
                    "config": {
                        "options": {
                            "mode": 2,
                            "batchSize": 50,
                            "pollFrequency": 10,
                            "syncConcurrency": 50,
                            "syncSingleMessage": true,
                            "recursiveTimeout": 100,
                            "messageCharset": "utf8",
                            "messageAsJSON": true,
                            "sync": true,
                            "consumeTimeout": 10
                        },
                        "rdkafkaConf": {
                            "client.id": "ml-con-notification-event",
                            "group.id": "ml-group-notification-event",
                            "metadata.broker.list": "kafka:9092",
                            "socket.keepalive.enable": true,
                            "allow.auto.create.topics": true
                        },
                        "topicConf": {
                            "auto.offset.reset": "earliest"
                        }
                    }
                }
            }
        },
        "PRODUCER": {
            "TRANSFER": {
                "PREPARE": {
                    "config": {
                        "options": {
                            "messageCharset": "utf8"
                        },
                        "rdkafkaConf": {
                            "metadata.broker.list": "kafka:9092",
                            "client.id": "ml-prod-transfer-prepare",
                            "event_cb": true,
                            "dr_cb": false,
                            "socket.keepalive.enable": true,
                            "queue.buffering.max.messages": 10000000
                        },
                        "topicConf": {
                            "request.required.acks": "all",
                            "partitioner": "murmur2_random"
                        }
                    }
                },
                "FULFIL": {
                    "config": {
                        "options": {
                            "messageCharset": "utf8"
                        },
                        "rdkafkaConf": {
                            "metadata.broker.list": "kafka:9092",
                            "client.id": "ml-prod-transfer-fulfil",
                            "event_cb": true,
                            "dr_cb": false,
                            "socket.keepalive.enable": true,
                            "queue.buffering.max.messages": 10000000
                        },
                        "topicConf": {
                            "request.required.acks": "all",
                            "partitioner": "murmur2_random"
                        }
                    }
                },
                "GET": {
                    "config": {
                        "options": {
                            "messageCharset": "utf8"
                        },
                        "rdkafkaConf": {
                            "metadata.broker.list": "kafka:9092",
                            "client.id": "ml-prod-transfer-get",
                            "event_cb": true,
                            "dr_cb": false,
                            "socket.keepalive.enable": true,
                            "queue.buffering.max.messages": 10000000
                        },
                        "topicConf": {
                            "request.required.acks": "all",
                            "partitioner": "murmur2_random"
                        }
                    }
                }
            }
        }
    }
}
