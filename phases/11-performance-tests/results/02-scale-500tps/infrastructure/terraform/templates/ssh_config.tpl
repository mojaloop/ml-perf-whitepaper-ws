# SSH Configuration for Mojaloop Performance Testing Infrastructure
# Generated by Terraform at: ${timestamp()}
#
# Add this to your ~/.ssh/config file or use with:
# ssh -F ssh-config.generated <host>

# Bastion Jump Host
Host perf-jump-host
    HostName ${bastion_public_ip}
    User ubuntu
    IdentityFile ~/.ssh/${ssh_key_name}.pem
    ForwardAgent yes
    StrictHostKeyChecking no
    UserKnownHostsFile=/dev/null

# Switch Nodes
%{ for name, node in switch_nodes ~}
Host ${name}
    HostName ${node.private_ip}
    User ubuntu
    IdentityFile ~/.ssh/${ssh_key_name}.pem
    ProxyJump perf-jump-host
    StrictHostKeyChecking no
    UserKnownHostsFile=/dev/null

%{ endfor ~}
# DFSP Nodes
%{ for name, node in dfsp_nodes ~}
Host ${name}
    HostName ${node.private_ip}
    User ubuntu
    IdentityFile ~/.ssh/${ssh_key_name}.pem
    ProxyJump perf-jump-host
    StrictHostKeyChecking no
    UserKnownHostsFile=/dev/null

%{ endfor ~}
# Wildcard for all private subnet hosts
Host 10.110.*
    User ubuntu
    IdentityFile ~/.ssh/${ssh_key_name}.pem
    ProxyJump perf-jump-host
    StrictHostKeyChecking no
    UserKnownHostsFile=/dev/null